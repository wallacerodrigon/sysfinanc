import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ConsultaComponent } from './consulta/consulta.component';
import { GeracaoComponent } from './geracao/geracao.component';
import { EdicaoComponent } from './edicao/edicao.component';
import { ComponentesModule } from '../componentes/componentes.module';
import { FormsModule } from '@angular/forms';

import { HomeModule } from '../home/home.module';
import { LancamentoOuterLink } from '../lancamentos/lancamentos-outer-link';
import { LancamentoService } from '../lancamentos/lancamento.service';

import { AuthGuard } from '../servicos/auth-guard.service';
import { RouterModule, Routes } from '@angular/router';
import { UtilizacaoComponent } from './utilizacao/utilizacao.component';
import { VisaoUsosComponent } from './visao-usos/visao-usos.component';
import { UtilizacaoLancamentoVO } from '../dominio/vo/utilizacao-lancamento-vo';
import { TextMaskModule } from 'angular2-text-mask';

const rotas: Routes = [
  {path: 'lancamentos', 
    component: LancamentoOuterLink,
    canActivate: [AuthGuard],
    children: [
        {path: 'consulta', component: ConsultaComponent},
        {path: 'edicao', component: EdicaoComponent},
        {path: 'geracao', component: GeracaoComponent}
           //{path: 'mapa', component: },

         ]
  },
];

@NgModule({
  imports: [
    CommonModule,  HomeModule,ComponentesModule,
    RouterModule.forChild(rotas),
    TextMaskModule,FormsModule
  ],
  declarations: [ConsultaComponent, GeracaoComponent, EdicaoComponent, LancamentoOuterLink, UtilizacaoComponent, VisaoUsosComponent],
  providers: [LancamentoService],
  entryComponents: [VisaoUsosComponent, UtilizacaoComponent],
  exports: [RouterModule, VisaoUsosComponent, UtilizacaoComponent]
})
export class LancamentosModule { }
