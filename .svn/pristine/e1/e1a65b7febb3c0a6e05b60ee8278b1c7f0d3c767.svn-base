import { Injectable } from '@angular/core';
import {HttpInterceptor} from './http-interceptor';
import {UsuarioVO} from '../dominio/vo/usuario-vo';
import {AlteracaoSenhaDTO} from '../dominio/dto/alteracao-senha-dto';
import {AbstractServicos} from './abstract.servicos';

@Injectable()
export class UsuarioService extends AbstractServicos<UsuarioVO> {

  protected uri: string = '/usuario';

  constructor(protected http: HttpInterceptor) { 
      super();
  }

  public transformar(element: any): UsuarioVO {
       let vo: UsuarioVO = new UsuarioVO();
       vo.transformar(element);
       return vo;
  };  

  public alterarSenha(dto: AlteracaoSenhaDTO): Promise<any> {
      return this.http
          .put(this.uri+'/altera-senha', JSON.stringify(dto))
          .toPromise();
  }  

}
