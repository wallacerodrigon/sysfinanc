import {NgModule} from '@angular/core';
import {RouterModule, Routes} from '@angular/router';

import {ModalidadeComponent} from './modalidade/modalidade/modalidade.component';
import {ProfessorComponent} from './professor/professor/professor.component';
import {AlunoComponent} from './alunos/aluno/aluno-componente/aluno.component';
import { UsuarioComponent } from './usuarios/usuario/usuario.component';
import { TurmaComponent } from './turma/turma/turma.component';
import { PlanoPagamentoComponent } from './plano-pagamento/plano-pagamento/plano-pagamento.component';
import { AulaExperimentalComponent } from './aula-experimental/aula-experimental/aula-experimental.component';
import {AlteracaoSenhaComponent} from './usuarios/alteracao-senha/alteracao-senha.component';
import {AlteracaoPrimeiraSenhaComponent} from './usuarios/alteracao-primeira-senha/alteracao-primeira-senha.component';
import {CadastrosComponent} from './cadastros.component';
import {AuthGuard} from '../servicos/auth-guard.service';

const cadastrosRotas: Routes = [
    /**cadastros */
    {path: 'altera-senha-primeiro-acesso', component: AlteracaoPrimeiraSenhaComponent},
    {path: '', component: CadastrosComponent,
    children: [
      {path: 'modalidade', component: ModalidadeComponent, canActivate: [AuthGuard]},
      {path: 'professor', component: ProfessorComponent, canActivate: [AuthGuard]},
      {path: 'aluno', component: AlunoComponent, canActivate: [AuthGuard]},
      {path: 'turma', component: TurmaComponent, canActivate: [AuthGuard]},
      {path: 'plano-pagamento', component: PlanoPagamentoComponent, canActivate: [AuthGuard]},
      {path: 'usuario', component: UsuarioComponent, canActivate: [AuthGuard]},
      {path: 'aula-experimental', component: AulaExperimentalComponent, canActivate: [AuthGuard]},
      /**PASSAR PARA MODULO: senhas*/    
      {path: 'altera-senha', component: AlteracaoSenhaComponent, canActivate: [AuthGuard]},
    ]}    
];

/*export const routing = RouterModule.forRoot(defaultRoutes, {useHash: true, enableTracing: true});*/
//forRoot apenas no m√≥dulo de rotas principal. Nos demais, forChild.
@NgModule({
  imports: [
    RouterModule.forChild(
      cadastrosRotas
    )
  ],
  exports: [
    RouterModule
  ]
})
export class CadastrosRoutesModule {}
 